<?xml version="1.0" encoding="UTF-8"?>

<!-- Copyright (c) 2020 Bubble, Inc. All rights reserved. For personal (non-commercial) use, see license: https://getbubblenow.com/bubble-license/ -->

<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>bubble</groupId>
        <artifactId>bubble</artifactId>
        <version>1.0.0-SNAPSHOT</version>
    </parent>

    <artifactId>bubble-server</artifactId>
    <version>1.0.0-SNAPSHOT</version>

    <repositories>
        <repository>
            <id>jitpack.io</id>
            <url>https://jitpack.io</url>
        </repository>
    </repositories>

    <dependencies>
        <!-- We only need a few classes from this. Most will be excluded below when the jar is shaded -->
        <dependency>
            <groupId>org.apache.commons</groupId>
            <artifactId>commons-collections4</artifactId>
            <version>${commons-collections4.version}</version>
        </dependency>

        <!-- import poi manually and exclude all (we bring commons-collections4 above) -->
        <!-- we only need poi for the ZipSecureFile utility -->
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml</artifactId>
            <version>4.1.2</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.commons</groupId>
                    <artifactId>commons-collections4</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.commons</groupId>
                    <artifactId>commons-math3</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.zaxxer</groupId>
                    <artifactId>SparseBitSet</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <!-- import cobbzilla-utils manually and exclude unneeded dependencies -->
        <dependency>
            <groupId>org.cobbzilla</groupId>
            <artifactId>cobbzilla-utils</artifactId>
            <version>1.0.0-SNAPSHOT</version>
            <exclusions>
                <!-- we imported poi above ourselves, with our own exclusions -->
                <exclusion>
                    <groupId>org.apache.poi</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>fr.opensagres.xdocreport</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.codeborne</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>jtidy</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>xalan</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>net.sf.saxon</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.ant</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.opencsv</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.quartz-scheduler</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.pdfbox</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.atteo</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>io.github.bonigarcia</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <!-- exclude unused jetty/elastic/mongo libraries -->
        <dependency>
            <groupId>org.cobbzilla</groupId>
            <artifactId>wizard-server</artifactId>
            <version>1.0.0-SNAPSHOT</version>
            <exclusions>
                <exclusion>
                    <groupId>org.eclipse.jetty</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.elasticsearch</groupId>
                    <artifactId>elasticsearch</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.mongodb</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.github.jmkgreen.morphia</groupId>
                    <artifactId>*</artifactId>
                </exclusion>
                <!-- we imported cobbzilla-utils above ourselves, with our own exclusions -->
                <exclusion>
                    <groupId>org.cobbzilla</groupId>
                    <artifactId>cobbzilla-utils</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>bubble</groupId>
            <artifactId>abp-parser</artifactId>
            <version>1.0.0-SNAPSHOT</version>
        </dependency>

        <!-- RDBMS persistence -->
        <dependency>
            <groupId>org.hibernate</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>${hibernate.version}</version>
        </dependency>
        <dependency>
            <groupId>org.javassist</groupId>
            <artifactId>javassist</artifactId>
            <version>${javassist.version}</version>
        </dependency>
        <dependency>
            <groupId>cglib</groupId>
            <artifactId>cglib</artifactId>
            <version>${cglib.version}</version>
        </dependency>
        <dependency>
            <groupId>${jdbcDriver.postgres.groupId}</groupId>
            <artifactId>${jdbcDriver.postgres.artifactId}</artifactId>
            <version>${jdbcDriver.postgres.version}</version>
        </dependency>

        <dependency>
            <groupId>org.cobbzilla</groupId>
            <artifactId>templated-mail-sender</artifactId>
            <version>1.0.0-SNAPSHOT</version>
        </dependency>

        <dependency>
            <groupId>org.glassfish.grizzly</groupId>
            <artifactId>grizzly-http</artifactId>
            <version>${grizzly.version}</version>
        </dependency>
        <dependency>
            <groupId>org.glassfish.grizzly</groupId>
            <artifactId>grizzly-http-server</artifactId>
            <version>${grizzly.version}</version>
        </dependency>
        <dependency>
            <groupId>org.glassfish.grizzly</groupId>
            <artifactId>grizzly-http-servlet</artifactId>
            <version>${grizzly.version}</version>
        </dependency>

        <dependency>
            <groupId>com.amazonaws</groupId>
            <artifactId>aws-java-sdk-ec2</artifactId>
            <version>${aws.sdk.version}</version>
        </dependency>

        <dependency>
            <groupId>redis.clients</groupId>
            <artifactId>jedis</artifactId>
            <version>${jedis.version}</version>
        </dependency>

        <dependency>
            <groupId>com.maxmind.geoip2</groupId>
            <artifactId>geoip2</artifactId>
            <version>2.15.0</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpclient</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpclient</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.fasterxml.jackson.core</groupId>
                    <artifactId>jackson-databind</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.fasterxml.jackson.core</groupId>
                    <artifactId>jackson-core</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.fasterxml.jackson.core</groupId>
                    <artifactId>jackson-annotations</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>com.warrenstrange</groupId>
            <artifactId>googleauth</artifactId>
            <version>1.4.0</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpclient</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>com.twilio.sdk</groupId>
            <artifactId>twilio</artifactId>
            <version>7.55.3</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpcore</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpclient</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.fasterxml.jackson.core</groupId>
                    <artifactId>jackson-databind</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.fasterxml.jackson.core</groupId>
                    <artifactId>jackson-core</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>com.fasterxml.jackson.core</groupId>
                    <artifactId>jackson-annotations</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>com.fasterxml.jackson.dataformat</groupId>
            <artifactId>jackson-dataformat-cbor</artifactId>
            <version>${jackson.version}</version>
        </dependency>
        <dependency>
            <groupId>com.amazonaws</groupId>
            <artifactId>aws-java-sdk-s3</artifactId>
            <version>${aws.sdk.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>com.fasterxml.jackson.dataformat</groupId>
                    <artifactId>jackson-dataformat-cbor</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>com.amazonaws</groupId>
            <artifactId>aws-java-sdk-route53</artifactId>
            <version>${aws.sdk.version}</version>
        </dependency>

        <!-- mailgun driver user this library -->
        <!-- exclude httpclient libs because old version generates warning for AWS lib -->
        <!-- add back more recent httpasyncclient lib -->
        <dependency>
            <groupId>com.mashape.unirest</groupId>
            <artifactId>unirest-java</artifactId>
            <version>1.4.9</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpclient</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpmime</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpasyncclient</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.httpcomponents</groupId>
            <artifactId>httpasyncclient</artifactId>
            <version>4.1.4</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpclient</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.httpcomponents</groupId>
                    <artifactId>httpmime</artifactId>
                </exclusion>
            </exclusions>
        </dependency>

        <dependency>
            <groupId>com.stripe</groupId>
            <artifactId>stripe-java</artifactId>
            <version>16.2.0</version>
        </dependency>

        <!-- import xalan and tidy for testing, used by 'response.xpath(...)' expressions -->
        <dependency>
            <groupId>xalan</groupId>
            <artifactId>xalan</artifactId>
            <version>${xalan.version}</version>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>jtidy</groupId>
            <artifactId>jtidy</artifactId>
            <version>${jtidy.version}</version>
            <scope>test</scope>
        </dependency>

        <dependency>
            <groupId>org.cobbzilla</groupId>
            <artifactId>wizard-server-test</artifactId>
            <version>1.0.0-SNAPSHOT</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <profiles>
        <profile>
            <id>production</id>
            <build>
                <resources>
                    <resource>
                        <directory>src/main/resources</directory>
                    </resource>
                </resources>

                <plugins>
                    <!-- Building the executable uberjar -->
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-shade-plugin</artifactId>
                        <version>2.1</version>
                        <executions>
                            <execution>
                                <phase>package</phase>
                                <goals><goal>shade</goal></goals>
                                <configuration>
                                    <transformers>
                                        <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                                            <mainClass>bubble.server.BubbleServer</mainClass>
                                        </transformer>
                                        <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
                                            <resource>META-INF/spring.handlers</resource>
                                        </transformer>
                                        <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
                                            <resource>META-INF/spring.schemas</resource>
                                        </transformer>
                                        <transformer implementation="org.apache.maven.plugins.shade.resource.ServicesResourceTransformer"/>
                                    </transformers>
                                    <filters>
                                        <filter>
                                            <artifact>*:*</artifact>
                                            <excludes>

<!-- Exclude signed jars to avoid errors, see: http://stackoverflow.com/a/6743609/1251543 -->
<exclude>META-INF/*.SF</exclude>
<exclude>META-INF/*.DSA</exclude>
<exclude>META-INF/*.RSA</exclude>

<!-- Exclude Graal. Only used by UserBlocker, but we use JsUserBlocker now -->
<exclude>org.graalvm.js:*</exclude>

<!-- Exclude other stuff by path -->
<!-- after META we go alphabetically, noting exceptions along the way -->
<exclude>META-INF/maven/**</exclude>
<exclude>aj/org/objectweb/**</exclude>
<exclude>changelog.txt</exclude> <!-- lombok changelog, really. it's in the top 100 largest files. -->
<exclude>com/ctc/wstx/dom/**</exclude>
<exclude>com/ctc/wstx/dtd/**</exclude>
<exclude>com/ctc/wstx/msv/**</exclude>
<exclude>com/ctc/wstx/osgi/**</exclude>
<exclude>com/ctc/wstx/sax/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/org_isorelax/catalog/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/org_isorelax/dispatcher/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/org_isorelax/jaxp/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/org_isorelax/verifier/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/org_jp_gr_xml/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/relaxng_datatype/**</exclude>
<exclude>com/ctc/wstx/shaded/msv/xsd_util/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/datatype/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/driver/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/grammar/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/reader/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/reader/trex/classic/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/relaxns/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/scanner/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/util/xml/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/verifier/**</exclude>
<exclude>com/ctc/wstx/shaded/msv_core/writer/**</exclude>
<exclude>com/github/jmkgreen/**</exclude>

<!-- <exclude>com/google/common/collect/**</exclude> needed during activation -->

<!-- we can ALMOST exclude all of com/google/common/graph -->
<!-- we run this command: -->
<!--     jar tf ~/.m2/repository/com/google/guava/guava/29.0-android/guava-29.0-android.jar  | grep com/google/common/graph | sed -e 's/\$.*/*.class/' | sort | uniq | grep -v './$' | grep -v SuccessorsFunction | while read ex ; do echo -n "<exclude>$ex</exclude>" ; done -->
<!-- to create the line below, which lists everything in that package except for SuccessorsFunction -->
<exclude>com/google/common/graph/AbstractBaseGraph*.class</exclude><exclude>com/google/common/graph/AbstractBaseGraph.class</exclude><exclude>com/google/common/graph/AbstractDirectedNetworkConnections*.class</exclude><exclude>com/google/common/graph/AbstractDirectedNetworkConnections.class</exclude><exclude>com/google/common/graph/AbstractGraph.class</exclude><exclude>com/google/common/graph/AbstractGraphBuilder.class</exclude><exclude>com/google/common/graph/AbstractNetwork*.class</exclude><exclude>com/google/common/graph/AbstractNetwork.class</exclude><exclude>com/google/common/graph/AbstractUndirectedNetworkConnections.class</exclude><exclude>com/google/common/graph/AbstractValueGraph*.class</exclude><exclude>com/google/common/graph/AbstractValueGraph.class</exclude><exclude>com/google/common/graph/BaseGraph.class</exclude><exclude>com/google/common/graph/DirectedGraphConnections*.class</exclude><exclude>com/google/common/graph/DirectedGraphConnections.class</exclude><exclude>com/google/common/graph/DirectedMultiNetworkConnections*.class</exclude><exclude>com/google/common/graph/DirectedMultiNetworkConnections.class</exclude><exclude>com/google/common/graph/DirectedNetworkConnections.class</exclude><exclude>com/google/common/graph/EdgesConnecting.class</exclude><exclude>com/google/common/graph/ElementOrder*.class</exclude><exclude>com/google/common/graph/ElementOrder.class</exclude><exclude>com/google/common/graph/EndpointPair*.class</exclude><exclude>com/google/common/graph/EndpointPair.class</exclude><exclude>com/google/common/graph/EndpointPairIterator*.class</exclude><exclude>com/google/common/graph/EndpointPairIterator.class</exclude><exclude>com/google/common/graph/ForwardingGraph.class</exclude><exclude>com/google/common/graph/ForwardingNetwork.class</exclude><exclude>com/google/common/graph/ForwardingValueGraph.class</exclude><exclude>com/google/common/graph/Graph.class</exclude><exclude>com/google/common/graph/GraphBuilder.class</exclude><exclude>com/google/common/graph/GraphConnections.class</exclude><exclude>com/google/common/graph/GraphConstants*.class</exclude><exclude>com/google/common/graph/GraphConstants.class</exclude><exclude>com/google/common/graph/Graphs*.class</exclude><exclude>com/google/common/graph/Graphs.class</exclude><exclude>com/google/common/graph/ImmutableGraph*.class</exclude><exclude>com/google/common/graph/ImmutableGraph.class</exclude><exclude>com/google/common/graph/ImmutableNetwork*.class</exclude><exclude>com/google/common/graph/ImmutableNetwork.class</exclude><exclude>com/google/common/graph/ImmutableValueGraph*.class</exclude><exclude>com/google/common/graph/ImmutableValueGraph.class</exclude><exclude>com/google/common/graph/IncidentEdgeSet.class</exclude><exclude>com/google/common/graph/MapIteratorCache*.class</exclude><exclude>com/google/common/graph/MapIteratorCache.class</exclude><exclude>com/google/common/graph/MapRetrievalCache*.class</exclude><exclude>com/google/common/graph/MapRetrievalCache.class</exclude><exclude>com/google/common/graph/MultiEdgesConnecting*.class</exclude><exclude>com/google/common/graph/MultiEdgesConnecting.class</exclude><exclude>com/google/common/graph/MutableGraph.class</exclude><exclude>com/google/common/graph/MutableNetwork.class</exclude><exclude>com/google/common/graph/MutableValueGraph.class</exclude><exclude>com/google/common/graph/Network.class</exclude><exclude>com/google/common/graph/NetworkBuilder.class</exclude><exclude>com/google/common/graph/NetworkConnections.class</exclude><exclude>com/google/common/graph/PredecessorsFunction.class</exclude><exclude>com/google/common/graph/StandardMutableGraph.class</exclude><exclude>com/google/common/graph/StandardMutableNetwork.class</exclude><exclude>com/google/common/graph/StandardMutableValueGraph.class</exclude><exclude>com/google/common/graph/StandardNetwork.class</exclude><exclude>com/google/common/graph/StandardValueGraph*.class</exclude><exclude>com/google/common/graph/StandardValueGraph.class</exclude><exclude>com/google/common/graph/Traverser*.class</exclude><exclude>com/google/common/graph/Traverser.class</exclude><exclude>com/google/common/graph/UndirectedGraphConnections*.class</exclude><exclude>com/google/common/graph/UndirectedGraphConnections.class</exclude><exclude>com/google/common/graph/UndirectedMultiNetworkConnections*.class</exclude><exclude>com/google/common/graph/UndirectedMultiNetworkConnections.class</exclude><exclude>com/google/common/graph/UndirectedNetworkConnections.class</exclude><exclude>com/google/common/graph/ValueGraph.class</exclude><exclude>com/google/common/graph/ValueGraphBuilder.class</exclude><exclude>com/google/common/graph/package-info.class</exclude>
<!-- <exclude>com/google/graph/**</exclude> something needs SuccessorsFunction -->

<exclude>com/ibm/icu/**</exclude>
<exclude>com/oracle/**</exclude>
<exclude>com/opencsv/**</exclude>
<exclude>com/sun/mail/imap/**</exclude>

<!-- JNA: only keep the linux-x86-64 stuff -->
<exclude>com/sun/jna/win32*/**</exclude>
<exclude>com/sun/jna/platform/mac/**</exclude>
<exclude>com/sun/jna/platform/win32/**</exclude>
<exclude>com/sun/jna/platform/wince/**</exclude>
<exclude>com/sun/jna/openbsd-x86*/**</exclude>
<exclude>com/sun/jna/freebsd-x86*/**</exclude>
<exclude>com/sun/jna/linux-x86/**</exclude>
<exclude>com/sun/jna/linux-a*/**</exclude>
<exclude>com/sun/jna/linux-p*/**</exclude>
<exclude>com/sun/jna/linux-m*/**</exclude>
<exclude>com/sun/jna/linux-s*/**</exclude>
<exclude>com/sun/jna/s*/**</exclude>

<exclude>com/twilio/rest/**</exclude>
<exclude>io/jsonwebtoken/**</exclude>
<exclude>javax/servlet/descriptor/**</exclude>
<exclude>javax/servlet/http/**</exclude>
<exclude>lib/README.txt/**</exclude>
<exclude>lib/darwin-x86-amd64/**</exclude>
<exclude>lombok/bytecode/**</exclude>
<exclude>lombok/core/**</exclude>
<exclude>lombok/delombok/**</exclude>
<exclude>lombok/eclipse/**</exclude>
<exclude>lombok/experimental/**</exclude>
<exclude>lombok/extern/**</exclude>
<exclude>lombok/installer/**</exclude>
<exclude>lombok/javac/**</exclude>
<exclude>lombok/launch/**</exclude>
<exclude>net/fortuna/**</exclude>
<exclude>net/sf/saxon/**</exclude>

<!--
org.apache.commons.beanutils is big, we only use MethodUtils
The exclusions below were generated with:
  jar tf ~/.m2/repository/commons-beanutils/commons-beanutils/1.9.4/commons-beanutils-1.9.4.jar | grep -v 'META-INF' | sed -e 's/\$.*/*.class/' | sort | uniq | grep -v './$' | grep -v MethodUtils | while read ex ; do echo -n "<exclude>$ex</exclude>" ; done
-->
<exclude>org/apache/commons/beanutils/BaseDynaBeanMapDecorator*.class</exclude><exclude>org/apache/commons/beanutils/BaseDynaBeanMapDecorator.class</exclude><exclude>org/apache/commons/beanutils/BasicDynaBean.class</exclude><exclude>org/apache/commons/beanutils/BasicDynaClass.class</exclude><exclude>org/apache/commons/beanutils/BeanAccessLanguageException.class</exclude><exclude>org/apache/commons/beanutils/BeanComparator.class</exclude><exclude>org/apache/commons/beanutils/BeanIntrospectionData.class</exclude><exclude>org/apache/commons/beanutils/BeanIntrospector.class</exclude><exclude>org/apache/commons/beanutils/BeanMap*.class</exclude><exclude>org/apache/commons/beanutils/BeanMap.class</exclude><exclude>org/apache/commons/beanutils/BeanPredicate.class</exclude><exclude>org/apache/commons/beanutils/BeanPropertyValueChangeClosure.class</exclude><exclude>org/apache/commons/beanutils/BeanPropertyValueEqualsPredicate.class</exclude><exclude>org/apache/commons/beanutils/BeanToPropertyValueTransformer.class</exclude><exclude>org/apache/commons/beanutils/BeanUtils.class</exclude><exclude>org/apache/commons/beanutils/BeanUtilsBean*.class</exclude><exclude>org/apache/commons/beanutils/BeanUtilsBean.class</exclude><exclude>org/apache/commons/beanutils/BeanUtilsBean2.class</exclude><exclude>org/apache/commons/beanutils/ConstructorUtils.class</exclude><exclude>org/apache/commons/beanutils/ContextClassLoaderLocal.class</exclude><exclude>org/apache/commons/beanutils/ConversionException.class</exclude><exclude>org/apache/commons/beanutils/ConvertUtils.class</exclude><exclude>org/apache/commons/beanutils/ConvertUtilsBean.class</exclude><exclude>org/apache/commons/beanutils/ConvertUtilsBean2.class</exclude><exclude>org/apache/commons/beanutils/Converter.class</exclude><exclude>org/apache/commons/beanutils/ConvertingWrapDynaBean.class</exclude><exclude>org/apache/commons/beanutils/DefaultBeanIntrospector.class</exclude><exclude>org/apache/commons/beanutils/DefaultIntrospectionContext.class</exclude><exclude>org/apache/commons/beanutils/DynaBean.class</exclude><exclude>org/apache/commons/beanutils/DynaBeanMapDecorator.class</exclude><exclude>org/apache/commons/beanutils/DynaBeanPropertyMapDecorator.class</exclude><exclude>org/apache/commons/beanutils/DynaClass.class</exclude><exclude>org/apache/commons/beanutils/DynaProperty.class</exclude><exclude>org/apache/commons/beanutils/FluentPropertyBeanIntrospector.class</exclude><exclude>org/apache/commons/beanutils/IntrospectionContext.class</exclude><exclude>org/apache/commons/beanutils/JDBCDynaClass.class</exclude><exclude>org/apache/commons/beanutils/LazyDynaBean.class</exclude><exclude>org/apache/commons/beanutils/LazyDynaClass.class</exclude><exclude>org/apache/commons/beanutils/LazyDynaList.class</exclude><exclude>org/apache/commons/beanutils/LazyDynaMap.class</exclude><exclude>org/apache/commons/beanutils/MappedPropertyDescriptor*.class</exclude><exclude>org/apache/commons/beanutils/MappedPropertyDescriptor.class</exclude><exclude>org/apache/commons/beanutils/MutableDynaClass.class</exclude><exclude>org/apache/commons/beanutils/NestedNullException.class</exclude><exclude>org/apache/commons/beanutils/PropertyUtils.class</exclude><exclude>org/apache/commons/beanutils/PropertyUtilsBean.class</exclude><exclude>org/apache/commons/beanutils/ResultSetDynaClass.class</exclude><exclude>org/apache/commons/beanutils/ResultSetIterator.class</exclude><exclude>org/apache/commons/beanutils/RowSetDynaClass.class</exclude><exclude>org/apache/commons/beanutils/SuppressPropertiesBeanIntrospector.class</exclude><exclude>org/apache/commons/beanutils/WeakFastHashMap*.class</exclude><exclude>org/apache/commons/beanutils/WeakFastHashMap.class</exclude><exclude>org/apache/commons/beanutils/WrapDynaBean.class</exclude><exclude>org/apache/commons/beanutils/WrapDynaClass*.class</exclude><exclude>org/apache/commons/beanutils/WrapDynaClass.class</exclude><exclude>org/apache/commons/beanutils/converters/AbstractArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/AbstractConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/BigDecimalConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/BigIntegerConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/BooleanArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/BooleanConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ByteArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ByteConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/CalendarConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/CharacterArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/CharacterConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ClassConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ConverterFacade.class</exclude><exclude>org/apache/commons/beanutils/converters/DateConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/DateTimeConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/DoubleArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/DoubleConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/FileConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/FloatArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/FloatConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/IntegerArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/IntegerConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/LongArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/LongConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/NumberConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ShortArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/ShortConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/SqlDateConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/SqlTimeConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/SqlTimestampConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/StringArrayConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/StringConverter.class</exclude><exclude>org/apache/commons/beanutils/converters/URLConverter.class</exclude><exclude>org/apache/commons/beanutils/expression/DefaultResolver.class</exclude><exclude>org/apache/commons/beanutils/expression/Resolver.class</exclude><exclude>org/apache/commons/beanutils/locale/BaseLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleBeanUtils*.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleBeanUtils.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleBeanUtilsBean*.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleBeanUtilsBean.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleConvertUtils.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleConvertUtilsBean*.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleConvertUtilsBean.class</exclude><exclude>org/apache/commons/beanutils/locale/LocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/BigDecimalLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/BigIntegerLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/ByteLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/DateLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/DecimalLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/DoubleLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/FloatLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/IntegerLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/LongLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/ShortLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/SqlDateLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/SqlTimeLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/SqlTimestampLocaleConverter.class</exclude><exclude>org/apache/commons/beanutils/locale/converters/StringLocaleConverter.class</exclude>

<!-- We don't use much of commons-compress -->
<exclude>org/apache/commons/compress/archivers/arj/**</exclude>
<exclude>org/apache/commons/compress/archivers/cpio/**</exclude>
<exclude>org/apache/commons/compress/archivers/dump/**</exclude>
<exclude>org/apache/commons/compress/archivers/examples/**</exclude>
<exclude>org/apache/commons/compress/archivers/sevenz/**</exclude>
<exclude>org/apache/commons/compress/compressors/snappy/**</exclude>
<exclude>org/apache/commons/compress/compressors/lz4/**</exclude>
<exclude>org/apache/commons/compress/compressors/lz77support/**</exclude>
<exclude>org/apache/commons/compress/compressors/deflate64/**</exclude>
<exclude>org/apache/commons/compress/compressors/pack200/**</exclude>
<exclude>org/apache/commons/compress/compressors/xz/**</exclude>
<exclude>org/apache/commons/compress/compressors/lzma/**</exclude>
<exclude>org/apache/commons/math3/**</exclude>

<!-- everything should be using collections4 now, remove old commons-collections -->
<exclude>org/apache/commons/collections/**</exclude>

<!--
We only need a few classes from commons-collections4
The exclusions below were generated with:
  jar tf ~/.m2/repository/org/apache/commons/commons-collections4/4.4/commons-collections4-4.4.jar | grep -v 'META-INF' | sed -e 's/\$.*/*.class/' | sort | uniq | grep -v './$' | grep -v ArrayIterator | grep -v ResettableIterator | grep -v CircularFifoQueue | grep -v BoundedCollection | grep -v '/Transformer.class' | grep -v CollectionUtils | grep -v IteratorUtils | grep -v '/iterators/' | while read ex ; do echo -n "<exclude>$ex</exclude>" ; done
-->
<exclude>org/apache/commons/collections4/ArrayStack.class</exclude><exclude>org/apache/commons/collections4/ArrayUtils.class</exclude><exclude>org/apache/commons/collections4/Bag.class</exclude><exclude>org/apache/commons/collections4/BagUtils.class</exclude><exclude>org/apache/commons/collections4/BidiMap.class</exclude><exclude>org/apache/commons/collections4/BoundedMap.class</exclude><exclude>org/apache/commons/collections4/Closure.class</exclude><exclude>org/apache/commons/collections4/ClosureUtils.class</exclude><exclude>org/apache/commons/collections4/ComparatorUtils.class</exclude><exclude>org/apache/commons/collections4/EnumerationUtils.class</exclude><exclude>org/apache/commons/collections4/Equator.class</exclude><exclude>org/apache/commons/collections4/Factory.class</exclude><exclude>org/apache/commons/collections4/FactoryUtils.class</exclude><exclude>org/apache/commons/collections4/FluentIterable.class</exclude><exclude>org/apache/commons/collections4/FunctorException.class</exclude><exclude>org/apache/commons/collections4/Get.class</exclude><exclude>org/apache/commons/collections4/IterableGet.class</exclude><exclude>org/apache/commons/collections4/IterableMap.class</exclude><exclude>org/apache/commons/collections4/IterableSortedMap.class</exclude><exclude>org/apache/commons/collections4/IterableUtils*.class</exclude><exclude>org/apache/commons/collections4/IterableUtils.class</exclude><exclude>org/apache/commons/collections4/KeyValue.class</exclude><exclude>org/apache/commons/collections4/ListUtils*.class</exclude><exclude>org/apache/commons/collections4/ListUtils.class</exclude><exclude>org/apache/commons/collections4/ListValuedMap.class</exclude><exclude>org/apache/commons/collections4/MapIterator.class</exclude><exclude>org/apache/commons/collections4/MapUtils*.class</exclude><exclude>org/apache/commons/collections4/MapUtils.class</exclude><exclude>org/apache/commons/collections4/MultiMap.class</exclude><exclude>org/apache/commons/collections4/MultiMapUtils.class</exclude><exclude>org/apache/commons/collections4/MultiSet*.class</exclude><exclude>org/apache/commons/collections4/MultiSet.class</exclude><exclude>org/apache/commons/collections4/MultiSetUtils.class</exclude><exclude>org/apache/commons/collections4/MultiValuedMap.class</exclude><exclude>org/apache/commons/collections4/OrderedBidiMap.class</exclude><exclude>org/apache/commons/collections4/OrderedIterator.class</exclude><exclude>org/apache/commons/collections4/OrderedMap.class</exclude><exclude>org/apache/commons/collections4/OrderedMapIterator.class</exclude><exclude>org/apache/commons/collections4/Predicate.class</exclude><exclude>org/apache/commons/collections4/PredicateUtils.class</exclude><exclude>org/apache/commons/collections4/Put.class</exclude><exclude>org/apache/commons/collections4/QueueUtils.class</exclude><exclude>org/apache/commons/collections4/ResettableListIterator.class</exclude><exclude>org/apache/commons/collections4/SetUtils*.class</exclude><exclude>org/apache/commons/collections4/SetUtils.class</exclude><exclude>org/apache/commons/collections4/SetValuedMap.class</exclude><exclude>org/apache/commons/collections4/SortedBag.class</exclude><exclude>org/apache/commons/collections4/SortedBidiMap.class</exclude><exclude>org/apache/commons/collections4/SplitMapUtils*.class</exclude><exclude>org/apache/commons/collections4/SplitMapUtils.class</exclude><exclude>org/apache/commons/collections4/TransformerUtils.class</exclude><exclude>org/apache/commons/collections4/Trie.class</exclude><exclude>org/apache/commons/collections4/TrieUtils.class</exclude><exclude>org/apache/commons/collections4/Unmodifiable.class</exclude><exclude>org/apache/commons/collections4/bag/AbstractBagDecorator.class</exclude><exclude>org/apache/commons/collections4/bag/AbstractMapBag*.class</exclude><exclude>org/apache/commons/collections4/bag/AbstractMapBag.class</exclude><exclude>org/apache/commons/collections4/bag/AbstractSortedBagDecorator.class</exclude><exclude>org/apache/commons/collections4/bag/CollectionBag.class</exclude><exclude>org/apache/commons/collections4/bag/CollectionSortedBag.class</exclude><exclude>org/apache/commons/collections4/bag/HashBag.class</exclude><exclude>org/apache/commons/collections4/bag/PredicatedBag.class</exclude><exclude>org/apache/commons/collections4/bag/PredicatedSortedBag.class</exclude><exclude>org/apache/commons/collections4/bag/SynchronizedBag*.class</exclude><exclude>org/apache/commons/collections4/bag/SynchronizedBag.class</exclude><exclude>org/apache/commons/collections4/bag/SynchronizedSortedBag.class</exclude><exclude>org/apache/commons/collections4/bag/TransformedBag.class</exclude><exclude>org/apache/commons/collections4/bag/TransformedSortedBag.class</exclude><exclude>org/apache/commons/collections4/bag/TreeBag.class</exclude><exclude>org/apache/commons/collections4/bag/UnmodifiableBag.class</exclude><exclude>org/apache/commons/collections4/bag/UnmodifiableSortedBag.class</exclude><exclude>org/apache/commons/collections4/bidimap/AbstractBidiMapDecorator.class</exclude><exclude>org/apache/commons/collections4/bidimap/AbstractDualBidiMap*.class</exclude><exclude>org/apache/commons/collections4/bidimap/AbstractDualBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/AbstractOrderedBidiMapDecorator.class</exclude><exclude>org/apache/commons/collections4/bidimap/AbstractSortedBidiMapDecorator.class</exclude><exclude>org/apache/commons/collections4/bidimap/DualHashBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/DualLinkedHashBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/DualTreeBidiMap*.class</exclude><exclude>org/apache/commons/collections4/bidimap/DualTreeBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/TreeBidiMap*.class</exclude><exclude>org/apache/commons/collections4/bidimap/TreeBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/UnmodifiableBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/UnmodifiableOrderedBidiMap.class</exclude><exclude>org/apache/commons/collections4/bidimap/UnmodifiableSortedBidiMap.class</exclude><exclude>org/apache/commons/collections4/collection/AbstractCollectionDecorator.class</exclude><exclude>org/apache/commons/collections4/collection/CompositeCollection*.class</exclude><exclude>org/apache/commons/collections4/collection/CompositeCollection.class</exclude><exclude>org/apache/commons/collections4/collection/IndexedCollection.class</exclude><exclude>org/apache/commons/collections4/collection/PredicatedCollection*.class</exclude><exclude>org/apache/commons/collections4/collection/PredicatedCollection.class</exclude><exclude>org/apache/commons/collections4/collection/SynchronizedCollection.class</exclude><exclude>org/apache/commons/collections4/collection/TransformedCollection.class</exclude><exclude>org/apache/commons/collections4/collection/UnmodifiableCollection.class</exclude><exclude>org/apache/commons/collections4/comparators/BooleanComparator.class</exclude><exclude>org/apache/commons/collections4/comparators/ComparableComparator.class</exclude><exclude>org/apache/commons/collections4/comparators/ComparatorChain.class</exclude><exclude>org/apache/commons/collections4/comparators/FixedOrderComparator*.class</exclude><exclude>org/apache/commons/collections4/comparators/FixedOrderComparator.class</exclude><exclude>org/apache/commons/collections4/comparators/NullComparator.class</exclude><exclude>org/apache/commons/collections4/comparators/ReverseComparator.class</exclude><exclude>org/apache/commons/collections4/comparators/TransformingComparator.class</exclude><exclude>org/apache/commons/collections4/functors/AbstractQuantifierPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/AllPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/AndPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/AnyPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/CatchAndRethrowClosure.class</exclude><exclude>org/apache/commons/collections4/functors/ChainedClosure.class</exclude><exclude>org/apache/commons/collections4/functors/ChainedTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/CloneTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/ClosureTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/ComparatorPredicate*.class</exclude><exclude>org/apache/commons/collections4/functors/ComparatorPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/ConstantFactory.class</exclude><exclude>org/apache/commons/collections4/functors/ConstantTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/DefaultEquator.class</exclude><exclude>org/apache/commons/collections4/functors/EqualPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/ExceptionClosure.class</exclude><exclude>org/apache/commons/collections4/functors/ExceptionFactory.class</exclude><exclude>org/apache/commons/collections4/functors/ExceptionPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/ExceptionTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/FactoryTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/FalsePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/ForClosure.class</exclude><exclude>org/apache/commons/collections4/functors/FunctorUtils.class</exclude><exclude>org/apache/commons/collections4/functors/IdentityPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/IfClosure.class</exclude><exclude>org/apache/commons/collections4/functors/IfTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/InstanceofPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/InstantiateFactory.class</exclude><exclude>org/apache/commons/collections4/functors/InstantiateTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/InvokerTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/MapTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/NOPClosure.class</exclude><exclude>org/apache/commons/collections4/functors/NOPTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/NonePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/NotNullPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/NotPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/NullIsExceptionPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/NullIsFalsePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/NullIsTruePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/NullPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/OnePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/OrPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/PredicateDecorator.class</exclude><exclude>org/apache/commons/collections4/functors/PredicateTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/PrototypeFactory*.class</exclude><exclude>org/apache/commons/collections4/functors/PrototypeFactory.class</exclude><exclude>org/apache/commons/collections4/functors/StringValueTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/SwitchClosure.class</exclude><exclude>org/apache/commons/collections4/functors/SwitchTransformer.class</exclude><exclude>org/apache/commons/collections4/functors/TransformedPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/TransformerClosure.class</exclude><exclude>org/apache/commons/collections4/functors/TransformerPredicate.class</exclude><exclude>org/apache/commons/collections4/functors/TruePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/UniquePredicate.class</exclude><exclude>org/apache/commons/collections4/functors/WhileClosure.class</exclude><exclude>org/apache/commons/collections4/keyvalue/AbstractKeyValue.class</exclude><exclude>org/apache/commons/collections4/keyvalue/AbstractMapEntry.class</exclude><exclude>org/apache/commons/collections4/keyvalue/AbstractMapEntryDecorator.class</exclude><exclude>org/apache/commons/collections4/keyvalue/DefaultKeyValue.class</exclude><exclude>org/apache/commons/collections4/keyvalue/DefaultMapEntry.class</exclude><exclude>org/apache/commons/collections4/keyvalue/MultiKey.class</exclude><exclude>org/apache/commons/collections4/keyvalue/TiedMapEntry.class</exclude><exclude>org/apache/commons/collections4/keyvalue/UnmodifiableMapEntry.class</exclude><exclude>org/apache/commons/collections4/list/AbstractLinkedList*.class</exclude><exclude>org/apache/commons/collections4/list/AbstractLinkedList.class</exclude><exclude>org/apache/commons/collections4/list/AbstractListDecorator.class</exclude><exclude>org/apache/commons/collections4/list/AbstractSerializableListDecorator.class</exclude><exclude>org/apache/commons/collections4/list/CursorableLinkedList*.class</exclude><exclude>org/apache/commons/collections4/list/CursorableLinkedList.class</exclude><exclude>org/apache/commons/collections4/list/FixedSizeList*.class</exclude><exclude>org/apache/commons/collections4/list/FixedSizeList.class</exclude><exclude>org/apache/commons/collections4/list/GrowthList.class</exclude><exclude>org/apache/commons/collections4/list/LazyList.class</exclude><exclude>org/apache/commons/collections4/list/NodeCachingLinkedList.class</exclude><exclude>org/apache/commons/collections4/list/PredicatedList*.class</exclude><exclude>org/apache/commons/collections4/list/PredicatedList.class</exclude><exclude>org/apache/commons/collections4/list/SetUniqueList*.class</exclude><exclude>org/apache/commons/collections4/list/SetUniqueList.class</exclude><exclude>org/apache/commons/collections4/list/TransformedList*.class</exclude><exclude>org/apache/commons/collections4/list/TransformedList.class</exclude><exclude>org/apache/commons/collections4/list/TreeList*.class</exclude><exclude>org/apache/commons/collections4/list/TreeList.class</exclude><exclude>org/apache/commons/collections4/list/UnmodifiableList.class</exclude><exclude>org/apache/commons/collections4/map/AbstractHashedMap*.class</exclude><exclude>org/apache/commons/collections4/map/AbstractHashedMap.class</exclude><exclude>org/apache/commons/collections4/map/AbstractInputCheckedMapDecorator*.class</exclude><exclude>org/apache/commons/collections4/map/AbstractInputCheckedMapDecorator.class</exclude><exclude>org/apache/commons/collections4/map/AbstractIterableMap.class</exclude><exclude>org/apache/commons/collections4/map/AbstractLinkedMap*.class</exclude><exclude>org/apache/commons/collections4/map/AbstractLinkedMap.class</exclude><exclude>org/apache/commons/collections4/map/AbstractMapDecorator.class</exclude><exclude>org/apache/commons/collections4/map/AbstractOrderedMapDecorator.class</exclude><exclude>org/apache/commons/collections4/map/AbstractReferenceMap*.class</exclude><exclude>org/apache/commons/collections4/map/AbstractReferenceMap.class</exclude><exclude>org/apache/commons/collections4/map/AbstractSortedMapDecorator*.class</exclude><exclude>org/apache/commons/collections4/map/AbstractSortedMapDecorator.class</exclude><exclude>org/apache/commons/collections4/map/CaseInsensitiveMap.class</exclude><exclude>org/apache/commons/collections4/map/CompositeMap*.class</exclude><exclude>org/apache/commons/collections4/map/CompositeMap.class</exclude><exclude>org/apache/commons/collections4/map/DefaultedMap.class</exclude><exclude>org/apache/commons/collections4/map/EntrySetToMapIteratorAdapter.class</exclude><exclude>org/apache/commons/collections4/map/FixedSizeMap.class</exclude><exclude>org/apache/commons/collections4/map/FixedSizeSortedMap.class</exclude><exclude>org/apache/commons/collections4/map/Flat3Map*.class</exclude><exclude>org/apache/commons/collections4/map/Flat3Map.class</exclude><exclude>org/apache/commons/collections4/map/HashedMap.class</exclude><exclude>org/apache/commons/collections4/map/LRUMap.class</exclude><exclude>org/apache/commons/collections4/map/LazyMap.class</exclude><exclude>org/apache/commons/collections4/map/LazySortedMap.class</exclude><exclude>org/apache/commons/collections4/map/LinkedMap*.class</exclude><exclude>org/apache/commons/collections4/map/LinkedMap.class</exclude><exclude>org/apache/commons/collections4/map/ListOrderedMap*.class</exclude><exclude>org/apache/commons/collections4/map/ListOrderedMap.class</exclude><exclude>org/apache/commons/collections4/map/MultiKeyMap.class</exclude><exclude>org/apache/commons/collections4/map/MultiValueMap*.class</exclude><exclude>org/apache/commons/collections4/map/MultiValueMap.class</exclude><exclude>org/apache/commons/collections4/map/PassiveExpiringMap*.class</exclude><exclude>org/apache/commons/collections4/map/PassiveExpiringMap.class</exclude><exclude>org/apache/commons/collections4/map/PredicatedMap.class</exclude><exclude>org/apache/commons/collections4/map/PredicatedSortedMap.class</exclude><exclude>org/apache/commons/collections4/map/ReferenceIdentityMap.class</exclude><exclude>org/apache/commons/collections4/map/ReferenceMap.class</exclude><exclude>org/apache/commons/collections4/map/SingletonMap*.class</exclude><exclude>org/apache/commons/collections4/map/SingletonMap.class</exclude><exclude>org/apache/commons/collections4/map/StaticBucketMap*.class</exclude><exclude>org/apache/commons/collections4/map/StaticBucketMap.class</exclude><exclude>org/apache/commons/collections4/map/TransformedMap.class</exclude><exclude>org/apache/commons/collections4/map/TransformedSortedMap.class</exclude><exclude>org/apache/commons/collections4/map/UnmodifiableEntrySet*.class</exclude><exclude>org/apache/commons/collections4/map/UnmodifiableEntrySet.class</exclude><exclude>org/apache/commons/collections4/map/UnmodifiableMap.class</exclude><exclude>org/apache/commons/collections4/map/UnmodifiableOrderedMap.class</exclude><exclude>org/apache/commons/collections4/map/UnmodifiableSortedMap.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractListValuedMap*.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractListValuedMap.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractMultiValuedMap*.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractMultiValuedMap.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractMultiValuedMapDecorator.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractSetValuedMap*.class</exclude><exclude>org/apache/commons/collections4/multimap/AbstractSetValuedMap.class</exclude><exclude>org/apache/commons/collections4/multimap/ArrayListValuedHashMap.class</exclude><exclude>org/apache/commons/collections4/multimap/HashSetValuedHashMap.class</exclude><exclude>org/apache/commons/collections4/multimap/TransformedMultiValuedMap.class</exclude><exclude>org/apache/commons/collections4/multimap/UnmodifiableMultiValuedMap.class</exclude><exclude>org/apache/commons/collections4/multiset/AbstractMapMultiSet*.class</exclude><exclude>org/apache/commons/collections4/multiset/AbstractMapMultiSet.class</exclude><exclude>org/apache/commons/collections4/multiset/AbstractMultiSet*.class</exclude><exclude>org/apache/commons/collections4/multiset/AbstractMultiSet.class</exclude><exclude>org/apache/commons/collections4/multiset/AbstractMultiSetDecorator.class</exclude><exclude>org/apache/commons/collections4/multiset/HashMultiSet.class</exclude><exclude>org/apache/commons/collections4/multiset/PredicatedMultiSet.class</exclude><exclude>org/apache/commons/collections4/multiset/SynchronizedMultiSet*.class</exclude><exclude>org/apache/commons/collections4/multiset/SynchronizedMultiSet.class</exclude><exclude>org/apache/commons/collections4/multiset/UnmodifiableMultiSet.class</exclude><exclude>org/apache/commons/collections4/properties/AbstractPropertiesFactory.class</exclude><exclude>org/apache/commons/collections4/properties/PropertiesFactory.class</exclude><exclude>org/apache/commons/collections4/properties/SortedProperties.class</exclude><exclude>org/apache/commons/collections4/properties/SortedPropertiesFactory.class</exclude><exclude>org/apache/commons/collections4/queue/AbstractQueueDecorator.class</exclude><exclude>org/apache/commons/collections4/queue/PredicatedQueue.class</exclude><exclude>org/apache/commons/collections4/queue/SynchronizedQueue.class</exclude><exclude>org/apache/commons/collections4/queue/TransformedQueue.class</exclude><exclude>org/apache/commons/collections4/queue/UnmodifiableQueue.class</exclude><exclude>org/apache/commons/collections4/sequence/CommandVisitor.class</exclude><exclude>org/apache/commons/collections4/sequence/DeleteCommand.class</exclude><exclude>org/apache/commons/collections4/sequence/EditCommand.class</exclude><exclude>org/apache/commons/collections4/sequence/EditScript.class</exclude><exclude>org/apache/commons/collections4/sequence/InsertCommand.class</exclude><exclude>org/apache/commons/collections4/sequence/KeepCommand.class</exclude><exclude>org/apache/commons/collections4/sequence/ReplacementsFinder.class</exclude><exclude>org/apache/commons/collections4/sequence/ReplacementsHandler.class</exclude><exclude>org/apache/commons/collections4/sequence/SequencesComparator*.class</exclude><exclude>org/apache/commons/collections4/sequence/SequencesComparator.class</exclude><exclude>org/apache/commons/collections4/set/AbstractNavigableSetDecorator.class</exclude><exclude>org/apache/commons/collections4/set/AbstractSerializableSetDecorator.class</exclude><exclude>org/apache/commons/collections4/set/AbstractSetDecorator.class</exclude><exclude>org/apache/commons/collections4/set/AbstractSortedSetDecorator.class</exclude><exclude>org/apache/commons/collections4/set/CompositeSet*.class</exclude><exclude>org/apache/commons/collections4/set/CompositeSet.class</exclude><exclude>org/apache/commons/collections4/set/ListOrderedSet*.class</exclude><exclude>org/apache/commons/collections4/set/ListOrderedSet.class</exclude><exclude>org/apache/commons/collections4/set/MapBackedSet.class</exclude><exclude>org/apache/commons/collections4/set/PredicatedNavigableSet.class</exclude><exclude>org/apache/commons/collections4/set/PredicatedSet.class</exclude><exclude>org/apache/commons/collections4/set/PredicatedSortedSet.class</exclude><exclude>org/apache/commons/collections4/set/TransformedNavigableSet.class</exclude><exclude>org/apache/commons/collections4/set/TransformedSet.class</exclude><exclude>org/apache/commons/collections4/set/TransformedSortedSet.class</exclude><exclude>org/apache/commons/collections4/set/UnmodifiableNavigableSet.class</exclude><exclude>org/apache/commons/collections4/set/UnmodifiableSet.class</exclude><exclude>org/apache/commons/collections4/set/UnmodifiableSortedSet.class</exclude><exclude>org/apache/commons/collections4/splitmap/AbstractIterableGetMapDecorator.class</exclude><exclude>org/apache/commons/collections4/splitmap/TransformedSplitMap.class</exclude><exclude>org/apache/commons/collections4/trie/AbstractBitwiseTrie*.class</exclude><exclude>org/apache/commons/collections4/trie/AbstractBitwiseTrie.class</exclude><exclude>org/apache/commons/collections4/trie/AbstractPatriciaTrie*.class</exclude><exclude>org/apache/commons/collections4/trie/AbstractPatriciaTrie.class</exclude><exclude>org/apache/commons/collections4/trie/KeyAnalyzer.class</exclude><exclude>org/apache/commons/collections4/trie/PatriciaTrie.class</exclude><exclude>org/apache/commons/collections4/trie/UnmodifiableTrie.class</exclude><exclude>org/apache/commons/collections4/trie/analyzer/StringKeyAnalyzer.class</exclude>

<exclude>org/apache/commons/lang3/function/**</exclude>
<exclude>org/apache/commons/lang3/time/**</exclude>
<!--
org.apache.commons.lang3.builder is a large package, we only need Builder class
The exclusions below were generated with:
  jar tf ~/.m2/repository/org/apache/commons/commons-lang3/3.11/commons-lang3-3.11.jar | grep 'org/apache/commons/lang3/builder/' | sed -e 's/\$.*/*.class/' | sort | uniq | grep -v './$' | grep -v org/apache/commons/lang3/builder/Builder | while read ex ; do echo -n "<exclude>$ex</exclude>" ; done
-->
<exclude>org/apache/commons/lang3/builder/CompareToBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/Diff.class</exclude><exclude>org/apache/commons/lang3/builder/DiffBuilder*.class</exclude><exclude>org/apache/commons/lang3/builder/DiffBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/DiffResult.class</exclude><exclude>org/apache/commons/lang3/builder/Diffable.class</exclude><exclude>org/apache/commons/lang3/builder/EqualsBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/EqualsExclude.class</exclude><exclude>org/apache/commons/lang3/builder/HashCodeBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/HashCodeExclude.class</exclude><exclude>org/apache/commons/lang3/builder/IDKey.class</exclude><exclude>org/apache/commons/lang3/builder/MultilineRecursiveToStringStyle.class</exclude><exclude>org/apache/commons/lang3/builder/RecursiveToStringStyle.class</exclude><exclude>org/apache/commons/lang3/builder/ReflectionDiffBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/ReflectionToStringBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/StandardToStringStyle.class</exclude><exclude>org/apache/commons/lang3/builder/ToStringBuilder.class</exclude><exclude>org/apache/commons/lang3/builder/ToStringExclude.class</exclude><exclude>org/apache/commons/lang3/builder/ToStringStyle*.class</exclude><exclude>org/apache/commons/lang3/builder/ToStringStyle.class</exclude><exclude>org/apache/commons/lang3/builder/ToStringSummary.class</exclude>

<exclude>org/apache/commons/pool2/**</exclude>
<exclude>org/apache/fontbox/**</exclude>
<exclude>org/apache/pdfbox/**</exclude>

<!-- org/apache/poi stuff -->

<!-- we can ALMOST exclude all of poi, we need the ZipSecureFile utility class -->
<exclude>META-INF/services/org.apache.xmlbeans**</exclude>
<exclude>com/microsoft/schemas/**</exclude>

<!-- Retain packages and classes requires for ZipSecureFile -->
<!-- Note: to use ".skip" on a ZipSecureFile (we currently don't), you'd also need to retain org.apache.poi.util.IOUtils.class -->
<!-- <exclude>org/apache/poi/openxml4j/util/**</exclude> all required -->
<!-- <exclude>org/apache/poi/**</exclude> UnsupportedFileFormatException required -->
<!-- <exclude>org/apache/poi/openxml4j/exceptions/**</exclude> NotOfficeXmlFileException required -->

<!-- Within org/apache/poi only UnsupportedFileFormatException is needed, exclude other classes -->
<!-- <exclude>org/apache/poi/UnsupportedFileFormatException.class</exclude> -->
<exclude>org/apache/poi/EmptyFileException.class</exclude>
<exclude>org/apache/poi/EncryptedDocumentException.class</exclude>
<exclude>org/apache/poi/OldFileFormatException.class</exclude>
<exclude>org/apache/poi/POIDocument.class</exclude>
<exclude>org/apache/poi/POIReadOnlyDocument.class</exclude>
<exclude>org/apache/poi/Version.class</exclude>

<!-- Within org/apache/poi/openxml4j/exceptions only NotOfficeXmlFileException is needed, exclude other classes -->
<!-- <exclude>org/apache/poi/openxml4j/exceptions/NotOfficeXmlFileException.class</exclude> -->
<exclude>org/apache/poi/openxml4j/exceptions/InvalidFormatException.class</exclude>
<exclude>org/apache/poi/openxml4j/exceptions/InvalidOperationException.class</exclude>
<exclude>org/apache/poi/openxml4j/exceptions/ODFNotOfficeXmlFileException.class</exclude>
<exclude>org/apache/poi/openxml4j/exceptions/OLE2NotOfficeXmlFileException.class</exclude>
<exclude>org/apache/poi/openxml4j/exceptions/OpenXML4JException.class</exclude>
<exclude>org/apache/poi/openxml4j/exceptions/OpenXML4JRuntimeException.class</exclude>
<exclude>org/apache/poi/openxml4j/exceptions/PartAlreadyExistsException.class</exclude>

<!-- other poi packages that can be wholly excluded -->
<exclude>org/apache/poi/common/**</exclude>
<exclude>org/apache/poi/ddf/**</exclude>
<exclude>org/apache/poi/extractor/**</exclude>
<exclude>org/apache/poi/hpsf/**</exclude>
<exclude>org/apache/poi/hssf/**</exclude>
<exclude>org/apache/poi/ooxml/**</exclude>
<exclude>org/apache/poi/openxml4j/opc/**</exclude>
<exclude>org/apache/poi/poifs/**</exclude>
<exclude>org/apache/poi/sl/**</exclude>
<exclude>org/apache/poi/ss/**</exclude>
<exclude>org/apache/poi/util/**</exclude>
<exclude>org/apache/poi/wp/**</exclude>
<exclude>org/apache/poi/xddf/**</exclude>
<exclude>org/apache/poi/xdgf/**</exclude>
<exclude>org/apache/poi/xslf/**</exclude>
<exclude>org/apache/poi/xssf/**</exclude>
<exclude>org/apache/poi/xwpf/**</exclude>

<!-- if/when we need DB sharding, remove these exclusions -->
<exclude>org/cobbzilla/wizard/**/shard/**</exclude>
<exclude>org/cobbzilla/wizard/resource/AbstractShardsResource.class</exclude>
<exclude>org/cobbzilla/wizard/server/config/DatabaseShardConfiguration.class</exclude>
<exclude>org/cobbzilla/wizard/server/config/ShardSetConfiguration.class</exclude>
<exclude>org/cobbzilla/wizard/server/listener/FlywayShardMigrationListener.class</exclude>

<!-- exclude other stuff that is never used -->
<exclude>org/apache/tools/ant/**</exclude>
<exclude>org/apache/velocity/**</exclude>
<exclude>org/apache/xalan/**</exclude>
<exclude>org/apache/xmlbeans/**</exclude>
<exclude>org/aspectj/weaver/**</exclude>
<exclude>org/cobbzilla/util/io/main/**</exclude>
<exclude>org/cobbzilla/util/collection/mappy/**</exclude>
<exclude>org/cobbzilla/wizard/server/RestWebappServerBase.class</exclude>
<exclude>org/cobbzilla/wizard/**/ldap/**</exclude>
<exclude>org/etsi/**</exclude>
<exclude>org/glassfish/pfl/**</exclude>
<exclude>org/hibernate/internal/jaxb/**</exclude>
<exclude>org/hibernate/metamodel/source/annotations/**</exclude>
<exclude>org/objectweb/asm/tree/**</exclude>
<exclude>org/objectweb/asm/commons/**</exclude>
<exclude>org/objectweb/asm/util/**</exclude>
<exclude>org/openqa/selenium/**</exclude>
<exclude>org/openxmlformats/**</exclude>
<exclude>org/springframework/orm/hibernate3/**</exclude>
<exclude>org/springframework/orm/hibernate5/**</exclude>
<exclude>org/springframework/orm/jdo/**</exclude>
<exclude>org/w3/**</exclude>
<exclude>schemaorg_apache_xmlbeans/**</exclude>
<exclude>schemasMicrosoftComOfficeExcel/**</exclude>
<exclude>schemasMicrosoftComOfficeOffice/**</exclude>
<exclude>schemasMicrosoftComOfficePowerpoint/**</exclude>
<exclude>schemasMicrosoftComOfficeWord/**</exclude>
<exclude>schemasMicrosoftComVml/**</exclude>
<exclude>w3c/mathml/**</exclude>

                                            </excludes>
                                        </filter>
                                    </filters>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>

                    <!-- copy scripts and web ui into jar -->
                    <plugin>
                        <groupId>org.codehaus.mojo</groupId>
                        <artifactId>exec-maven-plugin</artifactId>
                        <version>1.5.0</version>
                        <executions>
                            <execution>
                                <phase>package</phase>
                                <goals>
                                    <goal>exec</goal>
                                </goals>
                                <configuration>
                                    <executable>${project.basedir}/../bin/prep_bubble_jar</executable>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>

                </plugins>

            </build>

        </profile>
    </profiles>

</project>
